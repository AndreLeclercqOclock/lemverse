<template name="questListEntry">
  <li class="js-quest quest {{#if selected}}selected{{/if}} {{#if hasUpdates}}updated{{/if}}" data-quest-id="{{this._id}}">
    <span>{{title}}</span>
    <span class="author">By {{author}}</span>
  </li>
</template>

<template name="questsList">
  <div class="quests-list {{#if show}}show{{/if}}">
  
    <div class="quest-mode-selectors">
      <button type="button" class="js-quest-switch-mode {{#if isActiveMode "mine"}}active{{/if}}" data-mode="mine" data-unread="{{unreadAmount "mine"}}">ðŸ“œ</button>
      <button type="button" class="js-quest-switch-mode {{#if isActiveMode "available"}}active{{/if}}" data-mode="available" data-unread="{{unreadAmount "available"}}">ðŸ—‚</button>
      <button type="button" class="js-quest-switch-mode {{#if isActiveMode "completed"}}active{{/if}}" data-mode="completed">ðŸ—³</button>
    </div>

    <ul class="quests">
      {{#if newQuest}}
        <li class="js-quest quest creating  {{#if draftQuestSelected}}selected{{/if}}" data-quest-id="{{draftQuestId}}"><i>(draft) {{newQuest}}</i></li>
      {{/if}}

      {{#each quests}}
        {{> questListEntry}}
      {{/each}}

      {{#unless quests.length}}
        <li class="quest empty">--- empty ---</li>
      {{/unless}}
    </ul>
  </div>
</template>
