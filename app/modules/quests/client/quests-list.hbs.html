<template name="questsList">
  <div class="quests-list {{#if show}}show{{/if}}">

    {{#if questListModeIsActive 'mine'}}
      <h2 class="title">My quests</h2>
      <button type="button" class="js-quest-switch-mode next-mode">&raquo;</button>
    {{else if questListModeIsActive 'available'}}
      <button type="button" class="js-quest-switch-mode previous-mode">&laquo;</button>
      <h2 class="title">Available quests</h2>
      <button type="button" class="js-quest-switch-mode next-mode">&raquo;</button>
    {{else}}
      <button type="button" class="js-quest-switch-mode previous-mode">&laquo;</button>
      <h2 class="title">Completed quests</h2>
    {{/if}}

    <ul class="quests">
      {{#if newQuest}}
        <li class="js-quest creating  {{#if isQuestSelected draftQuestId}}selected{{/if}}" data-quest-id="{{draftQuestId}}"><i>(draft) {{newQuest}}</i></li>
      {{/if}}

      {{#each q in quests}}
        <li class="js-quest {{#if isQuestSelected q._id}}selected{{/if}} {{#if hasUpdates q._id}}updated{{/if}} {{#if q.completed}}completed{{/if}}" data-quest-id="{{q._id}}">
          <span>{{title q}}</span>
          <span class="actions">
            <button type="button" class="button js-toggle-state">âœ”</button>
          </span>
        </li>
      {{/each}}
    </ul>
  </div>
</template>
