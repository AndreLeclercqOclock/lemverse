<template name="userList">
  {{#modal id="displayUserList" title=title}}
    <div class="user-list">
      {{#each users}}
        <div class="user">
          <div class="main">
            {{> avatarViewer user=this showStatus=true}}
            <span class="js-profile">{{profile.name}}</span>
          </div>
          <div class="zone">
            <span>{{#if profile.zoneName}}{{profile.zoneName}}{{else}}-{{/if}}</span>
          </div>
          <div class="actions">
            {{#if communicationAllowed}}
              <span class="js-send-message">💬</span>
              <span class="js-create-quest">📜</span>
            {{else}}
              <span>-</span>
            {{/if}}
          </div>
          <div class="infos">
            {{#if profile.shareAudio}}
              <span>🎤</span>
            {{/if}}
            {{#if profile.shareVideo}}
              <span>🎥</span>
            {{/if}}
            {{#if profile.shareScreen}}
              <span>📺</span>
            {{/if}}
            {{#if roles.admin}}
              <span title="Is admin">👑</span>
            {{else if levelOwner}}
              <span title="Is level owner">🗺️</span>
            {{else if canAddEditors}}
              {{#if canEditLevel}}
                <span class="js-toggle-edition" title="Edition allowed">🔨</span>
              {{else}}
                <span class="js-toggle-edition denied" title="Click to allow edition">🔨</span>
              {{/if}}
            {{/if}}
          </div>
        </div>
      {{/each}}
    </div>
  {{/modal}}
</template>
